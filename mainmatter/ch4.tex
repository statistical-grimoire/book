To use index just write \index{pythagoros} like so.
\begin{lstlisting}[language = R, caption = R example]
library(ggplot2)
x = "SPAM"
x
\end{lstlisting}

\begin{verbatim}
[1] "SPAM"
\end{verbatim}